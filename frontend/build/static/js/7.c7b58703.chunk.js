(this.webpackJsonpplaces=this.webpackJsonpplaces||[]).push([[7],{57:function(e,t,a){},59:function(e,t,a){"use strict";var n=a(10),r=a(0),i=a.n(r),c=a(43);a(60);t.a=function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],s=a[1],p=Object(r.useState)(),u=Object(n.a)(p,2),o=u[0],d=u[1],m=Object(r.useState)(!1),v=Object(n.a)(m,2),b=v[0],f=v[1],E=Object(r.useRef)();return Object(r.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){d(e.result)},e.readAsDataURL(l)}}),[l]),i.a.createElement("div",{className:"form-control"},i.a.createElement("input",{type:"file",id:e.id,style:{display:"none"},accept:".jpg,.png,.jpeg",ref:E,onChange:function(t){var a,n=b;t.target.files&&1===t.target.files.length?(a=t.target.files[0],s(a),f(!0),n=!0):(f(!1),n=!1),e.onInput(e.id,a,n)}}),i.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},i.a.createElement("div",{className:"image-upload__preview"},o&&i.a.createElement("img",{src:o,alt:"Preview"}),!o&&i.a.createElement("p",null,"Please pick an image")),i.a.createElement(c.a,{type:"button",onClick:function(){E.current.click()}},"PICK IMAGE")),!b&&i.a.createElement("p",null,e.errorText))}},60:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(44),r=a.n(n),i=a(45),c=a(10),l=a(0),s=a.n(l),p=a(1),u=a(55),o=a(43),d=a(54),m=(a(57),a(58)),v=a(48),b=a(11),f=a(47),E=a(15),g=a(59);t.default=function(){var e=Object(l.useContext)(b.a),t=Object(v.a)(),a=t.isLoading,n=t.error,j=t.sendRequest,O=t.clearError,h=Object(p.g)(),x=Object(m.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),k=Object(c.a)(x,2),y=k[0],P=k[1],w=function(){var t=Object(i.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,(n=new FormData).append("title",y.inputs.title.value),n.append("description",y.inputs.description.value),n.append("address",y.inputs.address.value),n.append("creator",e.userId),n.append("image",y.inputs.image.value),t.next=10,j("".concat("https://places-app-obeka.herokuapp.com/api","/places"),"POST",n,{Authorization:"Bearer "+e.token});case 10:h.push("/"),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{error:n,onClear:O}),s.a.createElement("form",{className:"place-form",onSubmit:w},a&&s.a.createElement(E.a,{asOverlay:!0}),s.a.createElement(u.a,{id:"title",type:"text",label:"Title",element:"input",validators:[Object(d.c)()],errorText:"Please enter a valid title",onInput:P}),s.a.createElement(u.a,{id:"description",type:"textarea",label:"Description",validators:[Object(d.c)(),Object(d.b)(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:P}),s.a.createElement(u.a,{id:"address",type:"input",label:"Address",element:"input",validators:[Object(d.c)()],errorText:"Please enter a valid address.",onInput:P}),s.a.createElement(g.a,{id:"image",center:!0,onInput:P,errorText:"Please provide an image."}),s.a.createElement(o.a,{type:"submit",disabled:!y.isValid},"ADD PLACE")))}}}]);
//# sourceMappingURL=7.c7b58703.chunk.js.map